# STEP Protocol — 项目配置（STEP 自身项目）
# 本项目是纯 shell 脚本项目，无 lint/typecheck/build

# 阶段 → Agent 路由
routing:
  discovery:    { agent: step-pm }
  prd:          { agent: step-pm }
  lite_spec:    { agent: step-pm, note: "Lite L1 Quick Spec，轻量需求确认" }
  tech_design:  { agent: step-architect }
  planning:     { agent: step-architect }
  scenario:     { agent: step-qa }
  test_writing: { agent: step-qa, note: "建议与 execution agent 不同，形成对抗性" }
  execution:    { agent: step-developer }
  review:       { agent: step-reviewer }
  deploy:       { agent: step-deployer, note: "Review 通过后可选触发" }

# Phase 4 文件模式路由
file_routing:
  frontend:
    agent: step-designer
    patterns: ["src/components/**", "**/*.tsx", "**/*.css", "**/*.vue"]
  backend:
    agent: step-developer
    patterns: ["src/api/**", "src/db/**", "src/lib/**"]

# Gate 命令（STEP 自身项目使用 bash 测试）
gate:
  lint: "echo 'no lint configured'"
  typecheck: "echo 'no typecheck configured'"
  test: "bash tests/test-attention-management.sh && bash tests/test-stop-hook.sh && bash tests/test-init-detection.sh && bash tests/test-execution-rules.sh && bash tests/test-docs-correction.sh && bash tests/test-lite-mode-and-naming.sh && bash tests/test-archive-feature.sh"
  build: "echo 'no build configured'"
