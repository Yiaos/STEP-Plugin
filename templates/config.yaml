# STEP Protocol — 项目配置
# 根据项目实际情况修改

model_routing:
  # Phase 0-3: 规划阶段
  discovery: { model: "claude-opus" }
  prd: { model: "claude-opus" }
  tech_design: { model: "claude-opus" }
  planning: { model: "claude-opus" }

  # Phase 4: 执行阶段
  test_writing: { model: "codex", note: "可配置，建议与实现模型不同以形成对抗性" }
  frontend: { model: "gemini", patterns: ["src/components/**", "**/*.tsx", "**/*.css"] }
  backend: { model: "codex", patterns: ["src/api/**", "src/db/**", "src/lib/**"] }
  complex_logic: { model: "claude-opus", note: "手动指定" }

  # Phase 5: 审查阶段
  review: { model: "claude-opus | codex", note: "可选，参考 code-review-expert skill" }

# Gate 命令（根据项目包管理器和工具链修改）
gate:
  lint: "pnpm lint --no-error-on-unmatched-pattern"
  typecheck: "pnpm tsc --noEmit"
  test: "pnpm vitest run"
  build: "pnpm build"
